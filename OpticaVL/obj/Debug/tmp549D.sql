ALTER TABLE "dbo"."LigneCommandes" DROP CONSTRAINT IF EXISTS "FK_dbo.LigneCommandes_dbo.Commandes_CommandeId"
;

ALTER TABLE "dbo"."Produits" DROP CONSTRAINT IF EXISTS "FK_dbo.Produits_dbo.ModelDivers_ModelDiversId"
;

ALTER TABLE "dbo"."Produits" DROP CONSTRAINT IF EXISTS "FK_dbo.Produits_dbo.ModelMontures_ModelMontureId"
;

ALTER TABLE "dbo"."Produits" DROP CONSTRAINT IF EXISTS "FK_dbo.Produits_dbo.ModelVerres_ModelVerreId"
;

ALTER TABLE "dbo"."LigneCommandes" DROP CONSTRAINT IF EXISTS "FK_dbo.LigneCommandes_dbo.Produits_ProduitId"
;

DROP INDEX IF EXISTS dbo."LigneCommandes_IX_CommandeId"
;

DROP INDEX IF EXISTS dbo."LigneCommandes_IX_ProduitId"
;

DROP INDEX IF EXISTS dbo."Produits_IX_ModelDiversId"
;

DROP INDEX IF EXISTS dbo."Produits_IX_ModelMontureId"
;

DROP INDEX IF EXISTS dbo."Produits_IX_ModelVerreId"
;

ALTER TABLE "dbo"."Commandes" ADD "Teinte" text
;

ALTER TABLE "dbo"."ModelVerres" ADD "VLAxe" float4 NOT NULL DEFAULT 0
;

ALTER TABLE "dbo"."ModelVerres" ADD "VLSph" float4 NOT NULL DEFAULT 0
;

ALTER TABLE "dbo"."ModelVerres" ADD "VLCyl" float4 NOT NULL DEFAULT 0
;

ALTER TABLE "dbo"."ModelVerres" ADD "VPAxe" float4 NOT NULL DEFAULT 0
;

ALTER TABLE "dbo"."ModelVerres" ADD "VPSph" float4 NOT NULL DEFAULT 0
;

ALTER TABLE "dbo"."ModelVerres" ADD "VPCyl" float4 NOT NULL DEFAULT 0
;

ALTER TABLE "dbo"."ModelVerres" ADD "Add" float4 NOT NULL DEFAULT 0
;

ALTER TABLE "dbo"."ModelVerres" ADD "Side" int4 NOT NULL DEFAULT 0
;

ALTER TABLE "dbo"."ModelVerres" ADD "Prix" float4 NOT NULL DEFAULT 0
;

ALTER TABLE "dbo"."ModelVerres" ADD "Remise" float4 NOT NULL DEFAULT 0
;

ALTER TABLE "dbo"."ModelVerres" ADD "Qte" int4 NOT NULL DEFAULT 0
;

ALTER TABLE "dbo"."ModelVerres" ADD "CommandeId" int4 NOT NULL DEFAULT 0
;

CREATE INDEX "ModelVerres_IX_CommandeId" ON "dbo"."ModelVerres" ("CommandeId")
;

ALTER TABLE "dbo"."ModelVerres" ADD CONSTRAINT "FK_dbo.ModelVerres_dbo.Commandes_CommandeId" FOREIGN KEY ("CommandeId") REFERENCES "dbo"."Commandes" ("Id") ON DELETE CASCADE
;

ALTER TABLE "dbo"."Commandes" DROP COLUMN "TypeCmd"
;

ALTER TABLE "dbo"."Produits" DROP COLUMN "ModelDiversId"
;

ALTER TABLE "dbo"."Produits" DROP COLUMN "ModelMontureId"
;

ALTER TABLE "dbo"."Produits" DROP COLUMN "ModelVerreId"
;

ALTER TABLE "dbo"."ModelVerres" DROP COLUMN "Format"
;

ALTER TABLE "dbo"."ModelVerres" DROP COLUMN "Puissance"
;

ALTER TABLE "dbo"."ModelVerres" DROP COLUMN "Angle"
;

DROP TABLE "dbo"."LigneCommandes"
;

DROP TABLE "dbo"."ModelDivers"
;

DROP TABLE "dbo"."ModelMontures"
;

INSERT INTO "dbo"."__MigrationHistory"("MigrationId","ContextKey","Model","ProductVersion") VALUES (E'201510301844162_MiseAjourBD',E'OpticaVL.Migrations.Configuration',decode('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', 'base64'),E'6.1.3-40302')
