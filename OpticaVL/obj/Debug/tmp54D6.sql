CREATE SCHEMA dbo
;

CREATE TABLE "dbo"."ModelDivers"("Id" serial4 NOT NULL,"Reference" text,"Numero" int4 NOT NULL DEFAULT 0,CONSTRAINT "PK_dbo.ModelDivers" PRIMARY KEY ("Id"))
;

CREATE TABLE "dbo"."ModelMontures"("Id" serial4 NOT NULL,"Reference" text,CONSTRAINT "PK_dbo.ModelMontures" PRIMARY KEY ("Id"))
;

CREATE TABLE "dbo"."ModelVerres"("Id" serial4 NOT NULL,"Nature" int4 NOT NULL DEFAULT 0,"Format" int4 NOT NULL DEFAULT 0,"Type" int4 NOT NULL DEFAULT 0,"Puissance" int4 NOT NULL DEFAULT 0,"Angle" int4 NOT NULL DEFAULT 0,CONSTRAINT "PK_dbo.ModelVerres" PRIMARY KEY ("Id"))
;

ALTER TABLE "dbo"."Commandes" ADD "User" text
;

ALTER TABLE "dbo"."Produits" ADD "ModelDiversId" int4
;

ALTER TABLE "dbo"."Produits" ADD "ModelMontureId" int4
;

ALTER TABLE "dbo"."Produits" ADD "ModelVerreId" int4
;

ALTER TABLE "dbo"."Payements" ADD "User" text
;

CREATE INDEX "Produits_IX_ModelDiversId" ON "dbo"."Produits" ("ModelDiversId")
;

CREATE INDEX "Produits_IX_ModelMontureId" ON "dbo"."Produits" ("ModelMontureId")
;

CREATE INDEX "Produits_IX_ModelVerreId" ON "dbo"."Produits" ("ModelVerreId")
;

ALTER TABLE "dbo"."Produits" ADD CONSTRAINT "FK_dbo.Produits_dbo.ModelDivers_ModelDiversId" FOREIGN KEY ("ModelDiversId") REFERENCES "dbo"."ModelDivers" ("Id")
;

ALTER TABLE "dbo"."Produits" ADD CONSTRAINT "FK_dbo.Produits_dbo.ModelMontures_ModelMontureId" FOREIGN KEY ("ModelMontureId") REFERENCES "dbo"."ModelMontures" ("Id")
;

ALTER TABLE "dbo"."Produits" ADD CONSTRAINT "FK_dbo.Produits_dbo.ModelVerres_ModelVerreId" FOREIGN KEY ("ModelVerreId") REFERENCES "dbo"."ModelVerres" ("Id")
;

ALTER TABLE "dbo"."Produits" DROP COLUMN "RefProd"
;

ALTER TABLE "dbo"."Produits" DROP COLUMN "Numero"
;

INSERT INTO "dbo"."__MigrationHistory"("MigrationId","ContextKey","Model","ProductVersion") VALUES (E'201510011511432_MajProduitstructure',E'OpticaVL.Migrations.Configuration',decode('H4sIAAAAAAAEAO09227cOpLvC+w/NPpxkXHbOfMwJ7BnkHGcg2DjS+ycYN8CuZvuCKOWeiR1YGOwX7YP+0n7C0tJlFQkizdRl26fhl/cpFgsFquKRbKq+H//87/nf3veRLOfJM3CJL6Yn52czmckXiarMF5fzHf505/+Mv/bX//9386vVpvn2bf6u1+K72jLOLuY/8jz7bvFIlv+IJsgO9mEyzTJkqf8ZJlsFsEqWbw9Pf11cXa2IBTEnMKazc7vd3Eebkj5g/68TOIl2ea7ILpOViTKWDmteSihzm6CDcm2wZJczG+3ebgMvn0+qT6dz95HYUDReCDR03wWxHGSBzlF8t3vGXnI0yReP2xpQRB9fdkS+t1TEGWEIf+u/dx2HKdvi3Es2oY1qOUuy5ONI8CzXxhhFmLzTuSdN4SjpLuiJM5filGX5LuYv8+yXRpQSs9nYm/vLqO0+FIi70nT6M2srnrT8AFll+LvzexyF+W7lFzEZJenQfRmdrd7jMLlf5KXr8k/SHwR76IIIkfRo3VcAS26S5MtSfOXe/LEUP60ms8WfLuF2LBpBtpUY/kU57+8nc9uaOfBY0SauQfjfsiTlPxGYpIGOVndBXlO0riAQUrqSb0LfV1SItW9UWajQjOfXQfPn0m8zn9czOm/89nH8Jms6hKGwe9xSGWMNsrTHUEw1Pd6k2zG7/QDiepO/54kEQliM4ib4Ge4Lgkt0W1DuW9FqPjek6j8IvsRbispPqlrvwOO/Zgmm/skAm3b2u9fg3RNcopeovzkIdmlSwHD80UrI1rJqeG5CE7d5ig3SF8U08vNagImptiCjoufX+k61AnO559pX6DuVbD0TR/oZOxy0NBaMBFxpBMXhGkf2kzf13VCO4rzUjKbzmhXkTvpGKjLKKTIe8K6C14Ih1NXWhaAeIy6QipaQykpVGNZ1mijDqx2Fadk7c+0HRYDBBkAxpbnr5M8fALtBuNTaj6mg3fSrE+S8jUIbMlgZo1tux6DhbaP9bhebDXrcb1kW1sMTKQw9Mqq78CmAMgJdbKpIH6AGQo6xD6H65jo7Rnuk++t+LZo4l9IyCo+c0W5UFGFvsexrWtRRKVKCUf5Cz/Ti827g+FVtjiaXUhfk2wc7lIST9HvZWEdLPPBdTjr5+3wi8UqJVk2vIVGfz7RjspDiIG7GnNT6bJKSAuYahnppNM4Ne6i2riGRw2H9PWF299ZmkXS5nTjuZmgED785rshScNnaP13g9KDoV7zm7O1KauV1S7s0WhtJahPm0sUfYNpZm1zVaO3wLX5UoUq+8CAaf2Vl6ZqcLHXUazJUTuh0pjROWLn++PbYeGzpzah2vWB7MLITxEUUPJk+Q8/KD1otusg/efOeetNZ36dpKG3Pizl5UNY3L05olC2LA6/qAx1aUrl0dxQrXZrAuBmVl1bKyDe0JJq5Q25/Inr/raaVxS9qgrFTaiSEBPrnbFq5xvfdzOFzX0Hdt5ytbQCYN+4LlSQucx4Nh8qEGX1ekzrjzqhWjKzGVH2mQLNslaPZPWJ12oKJMfhOKNudFxRMW08yQXs5/CRRNEEHfe6X26VYB96XNoyq1V9J+Gplbq95FQtjmIzKQN34z6HZVrkO9Uy3o3p4FrswHltsyP7IX1RTElKynukgQ8Yb3YbkiYuhrobbzT2jyNzsHZH7hiRO9xmlhmMjvNatjrOKiaJQSUowJmhKmKEdrSEPibpJsg5cFVRN3AFGMnRohuou12YZQFg327HA++rE5oBFFd9Q+t0qsfaHFkb6Yv5IRU08vZoWhEOTGkM0cJ7QsFVk+YIsrKPJKCwuIPnDoTX2YuI0e0qXgYhuNjsepxHGaZl7aEvLo+uVHvmSsW7lFodhtIm3yiziFq2l/snRy8a6ehJ6Wdjix0bmQ419gmCV1mjRqqq9tpZsb7tV6CywXH5sWDjQZUe15OX03M/6vMm2Qj+vyM7NvXWu9mt2HudeIVLjd4vs+RWjVNmpcgkPSjW4Y6Y8AMvH8cWmrMz0FErqvr6Iuiqrk4r4TOvXDt7BPlDWK09YfSgAEpi7J0rkNG7ppJSlWsNV4v71fCf9GeMOakhDWY9mGS0ICW1a4a9HgLNjooIV0Seni7BXllcr9GKkA4Xd2lcHEns0r1TdQA3VKGA+u9ANLk7NNU3kp2j/NA55ESjoAFgTEMj1ZIixL7x0oUcle11IWh21IVIX3+gePlXF35ytQnC4VXvWEEuvXrS8Hq2b6UsKjuj9u6k8e5JkYKFot0lMEVqfNR+GM8Vof41pbztMNZrCzEeJX5/zFwB/RmtnYNYup3+S/KAXgOov5JkXvOpm9TvNkDmi39bxD5lH6Ng3aZIshd/CMdf8imPrEgavVCeglPFz8s12TyStLUuf4ZZUrLktyDa0aJTaSa5Fh/IUxiHefizbXEmk7AiloaAnAdDd/oBMFOQ7zZdB3FYelfaUe86LFTg7tmLdpy7RnfaATBT0O7yJQrjVepCvbuoMDZwyonfPmx/EB742w6kBs4sfkI+GZnpsvGULCHLmYicJuvCkgyfvJhU8L3oTj0O0BQUvMq2ZGnNo5c/CGQ6A5d+o5q3IpAHk0KPlO50bqFMQWSQIMWSzuz20IVFaSfJMizpINgiIEEL3+dVvJqZs7W03kGtUXBNCRVuKWmoNXEx/w9pNFrIzXFSCxlQiAd9enIicxlzBS3SN9J9bkanKoxzeSMQxstwG0RGRISWlpuIYh6aPsSaD2RL4sISN9LXpnMuH5CMRdOZsMkxkel8AXjGwEpimgTldCtzJgA2YtzNz/SZSIrz25hux0lOZu+XVerMyyBbBivZGqfysLJGCOE+e77uxnkKmozBd4rR23TdZpOahOUUofqqeTbF7bezLeTZsFdlpnRMZobqlcc78aJ+DCNwpH6erPgSbNqnUYZyEJxS+2gi4gC7tBGg4+hETbx1i1Vz6TKMUlRSZgy1qCSAFQPCWP9JOFAMhFNNtDIqDriRswBKC7NLDXd07lEMbATWUQzdpuc2scQkTHMH49ZZ9KJqgpFvMeaxnmQ9ZIR9uBDLobYEGlxG4CQNja24iU8UMj1L1UGPVjMvZYDoj6nEvBEiVzXBmaOwlYDN2Hwl0NmasUAemek5qzqktJp8IWVHf1zFJ/oQeYodo47CURwmY/MTR19rbmpSC+3BTrJmBLtdnuRa1Ps+UnRMMvPsvu0ihRGMvokU5simf+B/N416k+LAlEpIHRQGGKUJcHTQbuqczeaDjB5VmwqNMTSbirY2fdeRhdOpNN57XattFK7sgjJjruaOmgz3gT8YNYaiP5YOQ+flEBSYFKBgwSJCtEKPzCeEY7WQUaB7xXgc6uOyHTcfNl03UT7Trpl6hlNFK/e0Wrqx2gDr5NgMg9PTcoVkRJmEX5Tetao5NrvatrPNRQKMcmhvjs5oseNitgY5gDXRagTGNBHEBgUhpGcSPsUCXVRMoI166Tj/euiHZM9p8B+BHzVzcwgWncY5WcUvNp7KLdsgoQT2rGnh6XwQ9+/mcYzAqeZ5s0Fi5Hv4ynW9jGsq/Ixr16jttigiz1jest8zwjwCMxZZILJXAfKB5KKfVTaftZ7ysouaxKU8GPCYjASl5UwTkNL7BgXB3KcMAMQXyCQ4wvmlAVxz1ywDatYD05Dqe3N0VK0PhAFMdY2Kwajvsk0A4N2iDATW2kBiVyVKWM19kw2w8qRcCYpdM5imqn3ITZ6rZu9jAFLnSJEgoCY9zn1KGHDDbwDEWe4yJM7SMYACxh4GijPpDaAkDYoBRBY8ASxQdbL6gO8qgg/Vry+KOtjKvbcZGae3JH1u5dALYEFVKq6k/KhtKCI90oXQQ+uhyo9A5aMKaVGrXx0lVK6lNjTtQAbV40UyMWx8J+WzNLUVBwYkLisa+hj8JQeiEpaiHmEXgw8fP9FqLz44CLC86bhG7XwHgLW4exNEypouU0PrT8Zhr/IoA6g367OGCCoHsmEogHk+IVQwOkjxJ4IaFymLYRhhISTRmSaeVGmMFANZUCcf9VhENx8vwoiOPSJlWkOsX9owq8tAGcRJRT0U3k3Fiyq8Y4pIk9qe7HnxaUx+09qDHmhpVgnxUKuPlUc8yhpIycipXRGO0d/741cOuuUY2Po6hlHe9Q9pqgjZ1RSsornFVl33mZik3neYOAS/uR6GPeSMblp6IHdc+svPfmjB324BWDgYHzFRUkF3z2dz09ddOoYfvTrji0wHu/srtxssMCZ+N6whj/HiCQDlx+RNLuxqBKGU8QbF+g7FcijWtybD6BJdHhGZOrYH+65H+2Bs2HGIhmIWh/me61Kd6aQ5Lm7qzhcPyx9kE7CC8wX9pMBmF0RVrHhdcR1st2G8ztqWrGT2sA2WxUbuTw/z2fMmirOL+Y88375bLLISdHayCZdpkiVP+cky2SyCVbJ4e3r66+LsbLGpYCyWnBiLh9tNT3mSBmsi1FYJ0z6GaZZ/CPLgMShi4S9XG+kzcDiuOM6qO5LOv+XJqw+36ibF/yxRiBBsrzyRamn4kQ6rULnlCAl2biS3pa0flkEUpELKneL+4TKJdptYfTmibl3lnoPtqxJ7CGUeOQigLLBvX+Ycg+3LArn9+UIgnnTnIk2SdIXFT7sVU+hO1Ox5QqVyLFhC3XQYjqgdOyEElbOnZlYD9uY8N7N1oRuczz9TFFRd7gbtXgXu3h3eQx7ku1yCBopdJBGkEOMFElTYw2PvyJQahQfI1zhDrC/gEJD43ZwOZmF8IiiCYjdYGHKw3B5amb5LnNmm0I3nWLo2keNYcf+6UoeLDKMudOGEOucwzwR1qT2k6hUcCKUqsYfAZQeBgLRpQ9Tw2rwPnBAqs0FMtzKxOxqvdakSiw6rkqLhMGuSr41RPUoiaAVW5qKhWfJaXjuzQmc4b1FA0lNLOkhNXliO7+tCF/okT0VasCIBJ0+jtvzVWHTCQaqP+PA+JO5SZGg/jDB9QSyzL86GWfl2B28jOgkT/fzDbxKEosiFbcNnaShN4XjLKnQFEy03lYuYblSNJ6QgiyoHyclESXNjai9EiiMrC/FRthxGcD6QjMprkEtqkqtwY1+Zdx1F+YHswkgSZlbqBqnyIhIhYb5Feir5CVObJoSzLZXJQ9SQuEQ1nFzqMthoMONTTvCmrzYbhQEmyDYgAdVkIjBAbaLOJZjKePTpbNnWecTLnG28KDtYtOq2+3r09jl8JFEkAGkKX43BVnvU+HAG8411ZwtVw2F4wnVGp5oRrYuQw6yo4dhMja71YIejhfv+koiWa1PssKndbUiaCPtaVrZfM914FnnPtcJ/ynaylc33Z7annCfm7eQ9S6gvl+0cKRoPdDAUVG57nAwFWLyBDkqVLZ+HUpe5HRjLp8VOG4JdmGWBxG+g2OFoqHoLkzsYqor2hmdb9xSv7WMd0tFh/6hsOgy3sluSKps7cn1SVbiZ+RiwutThIgukmeduskC52zWDDKstdabYVbwMQumgU6p00uxtKJCg21UxQqYRHy95hrvk6edSus3IIMBR5GmYTDMyhzsftYh6D1roREW7wQwsxwnRMT0CChRPI8w3yQa7kgbFrrdY6A03V+N2Yy7flf8xlNWUt089yDeIIe147zSqpH9BxfNLB+kEj8+LR+fOsHq4xFqtJQirUZf7JisVhKFMVaWj68FcO13p3cHthQgA6iBF2taDiZEkQa7qVta1R0u3L0tXSKjEHyhocy2pYR6QYHJBFT6CCZMRuAumtvW+Xub4+jjtn3cSexsbgmFF43s47fkVFxJB4iM+cuoNdyGygDGMKAkPQktu2m2VPUzVs9A8lvg307lw97nWdvNRGlQcpCgl8ZOmd1bS/G6ilFiEEBe6VFKgCEQqR56xaCUxZKj6ZD67K15JXhXhQjfbdfbPqC25DuLwiWR59fbl/NeTtyd/PvnLfPY+CoOsCi5jAVDvxNRbVhFRZ78UEVFktVmIzd3jqgooWbbiHoiXX7NXPYQ5wjvyYZz/eT4zPhXv/ID5qkmyVyVBcwRQrrEe7ctVpGr/mCSRob36AXJhohSpBw92nuqjWh9K17FDDEZIRTsPNttOgOpInz5g3VsAK5PvGWCBoCFrhsIkAqw0OLltkOFDhCo4T1ESFMzhiJEQGuQFC4QFedAIxgN5gGligaDkdGAgtpR786KTKsJRATA683G7be7OftX1UPf2XOgPnB4pR+YnqmWfL+b/Khu+m336r++g7ZvZbUoNgXez09l/u6LQBgw59l83VHXuta4gUTuHu6r4Lt51BJAHiGZ/3Z1X2521B7/XG+LuIO5AqE93KAPZQ5o4mcNl3y+59/JRXld4rags5sZvVa4jbryg+K5fcCPrqnKbpg5KFxWh+kTWEYGm5RBK/w5Nqn+wYsMF23hp/yLWxotl20AbDxluY2x87EhP4WnDaxw5t27oZSrBcBxX0W3besmuEMDjSgXY2ocUYshPFzya5t6INHFCXdBgje2RsLdi8Uidw1Vp3sdYTYTI/h1lYfEzhztT7oS2J5TyXfKDpRYIlOi+pahDYqxXRzeKoyElfyiSu9ELe4z6YKlVh4p4WF51nIgHiCpMxAMACBDxgMLCQ/qXMzzM4nC5hovW8Dwbr0M1POYNxmh4HkVDIN1PoqW4DI+NCReP4XEudTxnx2D4nrPz93rW+4Oqmc/2pA0RcO+6bDjAtgR7l/VgdZxI4K5CxwPxumjtSX5B6IX33YEekNWxO9C43dTJwaojt9P/VyVdXwTB6Gb1tREPvlcA/hBWa08YvnzcRDw4Lgis3Ws8+FfGJxy04HgbuXu1Gh2u+sa2wlyEg6MocK1fozgqoxIOVxwn97/cE/8LFtYwqQPHQOf3hjCAw+VdIZbAV5Grogd8GLMXV84eF6uxXSxUTCq/3m56Dha8vgKela3GID5vzb+ZfnpycibRRX4O1ur9dfmF906PqOseGLGRvZnLY+maCCK5L23K9QEeRUcYQfsOrvR6LT9trIiftDMpEus2prqW5GT2flkFe1wG2TJA3jem7LvaJ8ZRZnuflmvUufVHYRmb14K7TtxAzCO8XQ8QEWqGYSOXyfVkJFOGdYSbNAFt46ggw9vK2GPIPDO1paNwU+0gCHFoyobhIE2e3t5ZCPV/VDGPLjP0KNyjfYtaekKam7O6yMmAGX/ylal4J515dYLxUab9zvT4Npx6+A42nH9Yvu9MoM38Oy0n6HO5j88OuIuSwA/1RxJDNBWHwBHq/MDTs4QmE//4PIG5YQkcwd5tF/mBFR8CN6jyEE/PC8oXFCbYsaDId5u8V7ldcZnc0Xcrd+osTuMolfrx7373vSZ9Irh0cQ+fv4JdqyYntdyXKo/teKqkevj9QPQI5/LQKhFW/Co0iCqt5/6pD8A+mINOO3XyrKET9soYx34ix2UbZXrQcdecXlhmD5ea0abddZ1RJMgdZdaB+8P3K2UCVzBz0F8CTh5XPor6gI5UEBOufBBO0ufB7J2flB5jiu4MOU1H4SuA8wGYMNOx0ohGjCsbTW3FSD4uh3ELKLvmQGSQ2oPfV9nkNZ38RvCKT2oJXOW4BJQSa7E8maIrxXzWOsHIzipVGsuL+eqxCJGtPGma6gyxi/heWt6QOmmrsD5aBwtjF8yrQu6AVaDg2dv2JuDC+ZHUh1CPdSU8B27qsVkupL6aGqyX5j7PSK728lemWFuHEq19RNXUS31VKHVRV2Dw63c4jcDhPZTcA6xFu4Ef2HTV3HDgfTXVys6a9w2tumMH6HhnrFLZFXuiz8hlzQZFZrOmCuWz5k01UxdsLyDBZ+UYcPZsiZVQqsDDSqU4WnbEGU1ST1wt1hW3CzH1xe06pL64WqwvLjO+qS9k6ZZ6RL7B+kUSi4u9g2VMXhiAQ+UMfCisESq3S85ckVa0Ms04KJXWZszcAk3bQtFo4odkM1zRbRAbrNa1kEeXW/MqZBWPM404SIWjGzJUG5e47qjLR3Noc6HGf45lvyxslg3eW/ywxcVaeElcN3DBkKgepKzLvAcruhEhI9V6GnGo8tYCfBZ7ugFiDjPIII1+NfxAZctFeml6T4bcWDWGMSs8KpTuI+Kom4r9GDazrwyDRh0HFP4R4oBZ8WTDxS/3jUpacbzTDe2JNLR8GY1NtP7GuqdlSTTA+feCe5pl/t5VNcWa29n+5pcz18U3AnsdLgOpHSx6gSJfDQFsVTcb4w5TuNnSce8QQxyaaZVXOMhA7a571Bc+YARcuWb4yHZQeqfPnwjYfQMyfuO1RC+yO86QNefjyMhtT9N70tTKzbLiFSt7ckjvEzV154tqr80K6E/pHaLzxf0uLkItq19V1uIGxDmFGZMld3TcfPMpfkrqU2wBo/oTMXqf5MEqyIP3aR4+BcucVi+LZO7xej77FkS7glM2j2T1Kb7d5dtd8a4H2TxGL5AYxUm4rv/zhYTz+W1J2qyPIVA0QzoEchv/fRdGqwbvj0hYqAJEccTOAoSLucyLQOH1SwPpJoktATHyNTcDX8lmG1Fg2W38EPwkXXD7PSOfyTpYvtyx16XUQMwTwZP9/EMYrNNgkzEYbXv6k/LwavP81/8HmKRy5tUuAQA=', 'base64'),E'6.1.3-40302')
