CREATE SCHEMA dbo
;

CREATE TABLE "dbo"."LigneCommandes"("Id" serial4 NOT NULL,"QteCmd" int4 NOT NULL DEFAULT 0,"Rem" float4 NOT NULL DEFAULT 0,"RemDG" float4 NOT NULL DEFAULT 0,"PrixCmd" float4 NOT NULL DEFAULT 0,"Del" boolean NOT NULL DEFAULT FALSE,"CommandeId" int4 NOT NULL DEFAULT 0,"ProduitId" int4 NOT NULL DEFAULT 0,CONSTRAINT "PK_dbo.LigneCommandes" PRIMARY KEY ("Id"))
;

CREATE INDEX "LigneCommandes_IX_CommandeId" ON "dbo"."LigneCommandes" ("CommandeId")
;

CREATE INDEX "LigneCommandes_IX_ProduitId" ON "dbo"."LigneCommandes" ("ProduitId")
;

ALTER TABLE "dbo"."Commandes" ADD "Produit_Id" int4
;

ALTER TABLE "dbo"."ModelVerres" ADD "RemiseDG" float4 NOT NULL DEFAULT 0
;

CREATE INDEX "Commandes_IX_Produit_Id" ON "dbo"."Commandes" ("Produit_Id")
;

ALTER TABLE "dbo"."Commandes" ADD CONSTRAINT "FK_dbo.Commandes_dbo.Produits_Produit_Id" FOREIGN KEY ("Produit_Id") REFERENCES "dbo"."Produits" ("Id")
;

ALTER TABLE "dbo"."LigneCommandes" ADD CONSTRAINT "FK_dbo.LigneCommandes_dbo.Commandes_CommandeId" FOREIGN KEY ("CommandeId") REFERENCES "dbo"."Commandes" ("Id") ON DELETE CASCADE
;

ALTER TABLE "dbo"."LigneCommandes" ADD CONSTRAINT "FK_dbo.LigneCommandes_dbo.Produits_ProduitId" FOREIGN KEY ("ProduitId") REFERENCES "dbo"."Produits" ("Id") ON DELETE CASCADE
;

INSERT INTO "dbo"."__MigrationHistory"("MigrationId","ContextKey","Model","ProductVersion") VALUES (E'201511021504033_AddTableLigneCommande',E'OpticaVL.Migrations.Configuration',decode('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', 'base64'),E'6.1.3-40302')
